{% extends "base.html" %}
{% block content %}
<section class="card">
  <h2>Spracovanie prebieha</h2>
  <div id="progress-wrap">
    <div class="progress"><div id="bar" style="width: 0%"></div></div>
    <div id="label">Pripravujem…</div>
  </div>

  <div id="ready" class="hide">
    <h3>✅ Hotovo</h3>
    <p>Môžete stiahnuť titulky v pôvodnom jazyku, alebo ich preložiť.</p>
    <div class="actions">
      <a class="btn" href="/download/{{ job_id }}">Stiahnuť pôvodné .srt</a>
    </div>

    <form action="/translate/{{ job_id }}" method="post" class="translate-form">
      <label for="target_lang">Preložiť do jazyka:</label>
      <select id="target_lang" name="target_lang">
        {% for code, name in languages %}
          <option value="{{ code }}">{{ name }}</option>
        {% endfor %}
      </select>
      <button type="submit">Preložiť titulky</button>
    </form>
    <p><a href="/">← Späť na úvod</a></p>
  </div>

  <div id="error" class="error hide"></div>
</section>

<script>
  window.JOB_ID = "{{ job_id }}";
</script>
{% endblock %}
